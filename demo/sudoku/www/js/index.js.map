{"version":3,"sources":["webpack:///webpack/bootstrap 30650a42ad73e0c58d19","webpack:///./js/core/toolkit.js","webpack:///./js/index.js","webpack:///./js/ui/grid.js","webpack:///./js/core/sudoku.js","webpack:///./js/core/generator.js","webpack:///./js/core/checker.js","webpack:///./js/ui/popupnumbers.js"],"names":["matrixToolkit","makeRow","v","array","Array","fill","makeMatrix","from","length","shuffle","endIndex","i","j","Math","floor","random","checkFillable","matrix","n","rowIndex","colIndex","row","col","map","boxToolkit","convertToBoxIndex","boxIndex","box","getBoxCells","cellIndex","convertFromBoxIndex","startRowIndex","startColIndex","result","push","Toolkit","grid","$","build","layout","popupNumbers","bindPopup","on","check","alert","reset","clear","rebuild","Grid","container","_$container","sudoku","make","puzzleMatrix","rowGroupClasses","colGroupClasses","$cells","rowValues","cellValue","addClass","text","$divArray","$spanArray","append","width","height","css","$rows","children","data","div","span","parseInt","toArray","$data","checker","marks","matrixMarks","each","$span","is","removeClass","find","empty","e","stopPropagation","$cell","target","popup","Sudoku","generator","solutionMatrix","level","shouldRid","cell","Generator","internalGenerator","orders","fillNumber","fillRow","checkArray","Checker","_matrix","_matrixMarks","checkRows","checkCols","checkBoxes","_success","every","mark","cols","boxes","PopupNumbers","$panel","_$panel","hide","_panelWidth","_$targetCell","hasClass","rect","getBoundingClientRect","deviation","parseFloat","left","round","top","trueLeft","window","innerWidth","show"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 30650a42ad73e0c58d19","/**\n * 矩阵和数据相关工具\n * */\nconst matrixToolkit = {\n  makeRow (v = 0) {\n    const array = new Array(9);\n    array.fill(v);\n    return array;\n  },\n  \n  makeMatrix (v = 0) {\n    return Array.from({length: 9}, () => this.makeRow(v));\n  },\n  \n  /**\n   * Fisher-Yates 洗牌算法\n   * 对传入数组进行随机排序，然后返回新数组\n   * @param {*} array\n   */\n  shuffle (array) {\n    const endIndex = array.length - 2;\n    for (let i = 0; i <= endIndex; i++) {\n      const j = i + Math.floor(Math.random() * (array.length - i));\n      [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n  },\n\n  /**\n   * TODO 检查指定位置可以填写数字 n\n  */\n  checkFillable (matrix, n, rowIndex, colIndex) {\n    const row = matrix[rowIndex];\n    const col = this.makeRow().map((v, i) => matrix[i][colIndex]);\n    const {boxIndex} = boxToolkit.convertToBoxIndex(rowIndex, colIndex);\n    const box = boxToolkit.getBoxCells(matrix, boxIndex);\n\n    for (let i = 0; i < 9; i++) {\n      if (row[i] === n || col[i] === n || box[i] === n) {\n        return false;\n      }\n    }\n    return true;\n  }\n};\n\n/**\n * 宫坐标系工具\n*/\nconst boxToolkit = {\n  convertToBoxIndex (rowIndex, colIndex) {\n    return {\n      boxIndex: Math.floor(rowIndex / 3) * 3 + Math.floor(colIndex / 3),\n      cellIndex: rowIndex % 3 * 3 + colIndex % 3\n    }\n  },\n\n  convertFromBoxIndex (boxIndex, cellIndex) {\n    return {\n      rowIndex: Math.floor(boxIndex / 3) * 3 + Math.floor(cellIndex / 3),\n      colIndex: boxIndex % 3 * 3 + cellIndex % 3\n    }\n  },\n\n  getBoxCells (matrix, boxIndex) {\n    const startRowIndex = Math.floor(boxIndex / 3) * 3;\n    const startColIndex = boxIndex % 3 * 3;\n    const result = [];\n\n    for (let cellIndex = 0; cellIndex < 9; cellIndex++) {\n      const rowIndex = startRowIndex + Math.floor(cellIndex / 3);\n      const colIndex = startColIndex + cellIndex % 3;\n      result.push(matrix[rowIndex][colIndex]);\n    }\n    return result;\n  }\n}\n\n// 工具集\n\nexport default class Toolkit {\n  /**\n   * 矩阵和数据相关工具\n   */\n  static get matrix () {\n    return matrixToolkit;\n  }\n\n  /**\n   * 宫坐标系相关工具\n   */\n  static get box () {\n    return boxToolkit;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/core/toolkit.js","import Grid from './ui/grid';\nimport Popupnumbers from './ui/popupnumbers';\n\nconst grid = new Grid($('#container'));\ngrid.build();\ngrid.layout();\n\nconst popupNumbers = new Popupnumbers($('#popupNumbers'));\ngrid.bindPopup(popupNumbers);\n\n$('#check').on('mousedown', e => {\n  if (grid.check()) {\n    alert('恭喜您完成');\n  }\n});\n$('#reset').on('mousedown', e => {\n  grid.reset();\n});\n$('#clear').on('mousedown', e => {\n  grid.clear();\n});\n$('#rebuild').on('mousedown', e => {\n  grid.rebuild();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./js/index.js","// 生成九宫格\n// const Toolkit = require(\"../core/toolkit\");\n// import Generator from '../core/generator';\nimport Sudoku from '../core/sudoku';\nimport Checker from '../core/checker';\n\nexport default class Grid {\n  constructor (container) {\n    this._$container = container;\n  }\n\n  build () {\n    // const generator = new Generator();\n    // generator.generator();\n    const sudoku = new Sudoku();\n    sudoku.make();\n    const matrix = sudoku.puzzleMatrix;\n    // const matrix = Toolkit.matrix.makeMatrix();\n\n    const rowGroupClasses = [\"row_g_top\", \"row_g_middle\", \"row_g_bottom\"];\n    const colGroupClasses = [\"col_g_left\", \"col_g_center\", \"col_g_right\"];\n\n    const $cells = matrix.map((rowValues => rowValues.map((cellValue, colIndex) => {\n      return $(\"<span>\")\n        .addClass(colGroupClasses[colIndex % 3])\n        .addClass(cellValue ? 'fixed' : 'empty')\n        .text(cellValue);\n    })));\n\n    const $divArray = $cells.map(($spanArray, rowIndex) => {\n      return $(\"<div>\")\n        .addClass(\"row\")\n        .addClass(rowGroupClasses[rowIndex % 3])\n        .append($spanArray);\n    })\n\n    this._$container.append($divArray);\n  }\n\n  layout () {\n    const width = $(\"span:first\", this._$container).width();\n    $(\"span\", this._$container)\n      .height(width)\n      .css({\n        \"line-height\": `${width}px`,\n        \"font-size\": width < 32 ? `${width / 2}px` : \"\"\n      });\n  }\n\n  /**\n   * 检查用户解谜结果，成功则进行提示，失败显示错误位置标记\n  */\n  check () {\n    // TODO 从界面获取需要检查的数据\n    const $rows = this._$container.children();\n    const data = $rows.map((rowIndex, div) => {\n      // 这里的map是jq实现的map而不是原生的map函数\n      return $(div).children().map((colIndex, span) => parseInt($(span).text()) || 0);\n    })\n    .toArray()\n    .map($data => $data.toArray());\n\n    const checker = new Checker(data);\n\n    if (checker.check()) {\n      return true;\n    }\n    // 检查不成功，进行标记\n    const marks = checker.matrixMarks;\n    this._$container.children()\n      .each((rowIndex, div) => {\n        $(div).children().each((colIndex, span) => {\n          const $span = $(span);\n          if ($span.is('.fixed') || marks[rowIndex][colIndex]) {\n            $span.removeClass('error');\n          } else {\n            $(span).addClass('error');\n          }\n        })\n      })\n  }\n\n  /**\n   * 重置当前迷盘到初始状态\n  */\n  reset () {\n    this._$container.find('span:not(.fixed)')\n      .removeClass('error mark1 mark2')\n      .text(0)\n      .addClass('empty');\n  }\n\n  /**\n   * 清理错误标记\n  */\n  clear () {\n    this._$container.find('span.error').removeClass('error');\n  }\n\n  /**\n   * 重建新的迷盘\n  */\n  rebuild () {\n    this._$container.empty();\n    this.build();\n    this.layout();\n  }\n\n  bindPopup (popupNumbers) {\n    this._$container.on('mousedown', 'span:not(.fixed)', e => {\n      e.stopPropagation();\n      $('#container span.active').removeClass('active');\n      const $cell = $(e.target);\n      popupNumbers.popup($cell);\n    })\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./js/ui/grid.js","// 生成数独游戏\n// 1.生成完成的解决方案：Generator\n// 2.随机去除部分数据：按比例\n\nimport Generator from './generator';\n\nexport default class Sudoku {\n  constructor () {\n    // 生成完成的解决方案\n    const generator = new Generator();\n    generator.generator();\n    this.solutionMatrix = generator.matrix;\n  }\n\n  make (level = 5) {\n    const shouldRid = Math.random() * 9 < level;\n    // 生成迷盘\n    this.puzzleMatrix = this.solutionMatrix.map(row => {\n      return row.map(cell => Math.random() * 9 < level ? 0 : cell);\n    })\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./js/core/sudoku.js","// 生成数独解决方案\nimport Toolkit from '../core/toolkit';\n\nexport default class Generator {\n\n  generator () {\n    while (!this.internalGenerator()) {\n      // TODO\n      // console.warn('try again');\n    }\n  }\n\n  internalGenerator () {\n    this.matrix = Toolkit.matrix.makeMatrix();\n    this.orders = Toolkit.matrix.makeMatrix()\n      .map(row => row.map((v, i) => i))\n      .map(row => Toolkit.matrix.shuffle(row));\n\n    // Toolkit.matrix.makeRow()\n    for (let n = 1; n <= 9; n++) {\n      if (!this.fillNumber(n)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  fillNumber (n) {\n    return this.fillRow(n, 0);\n  }\n\n  fillRow (n, rowIndex) {\n    if (rowIndex > 8) {\n      return true;\n    }\n\n    const row = this.matrix[rowIndex];\n    // 随机选择列\n    const orders = this.orders[rowIndex];\n\n    for (let i = 0; i < 9; i++) {\n      const colIndex = orders[i];\n\n      // 如果该位置已经有值，则跳过\n      if (row[colIndex]) {\n        continue;\n      }\n\n      // 检查此位置是否可以填 n （!列和宫都存在）\n      if (!Toolkit.matrix.checkFillable(this.matrix, n, rowIndex, colIndex)) {\n        continue;\n      }\n\n      row[colIndex] = n;\n      // 当前行填写 n 成功，递归调用 fillRow() 在下一行中填写 n\n      // 去下一行填写 n，如果没填进去，就继续寻找当前行的下一个位置\n      if (!this.fillRow(n, rowIndex + 1)) {\n        row[colIndex] = 0;\n        continue;\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n}\n\n\n// const generator = new Generator();\n// generator.generator();\n// console.log(generator.matrix);\n\n\n// WEBPACK FOOTER //\n// ./js/core/generator.js","// 检查数据\n\nfunction checkArray (array) {\n  const length = array.length;\n  const marks = new Array(length);\n  marks.fill(true);\n\n  for (let i = 0; i < length; i++) {\n    if (!marks[i]) {\n      continue;\n    }\n    const v = array[i];\n    // 是否有效, 0 - 无效， 1-9 有效\n    if (!v) {\n      marks[i] = false;\n      continue;\n    }\n\n    // 是否重复 i+1 ~ 9 是否和 i 位置的数据重复\n    for (let j = i + 1; j < length - 1; j++) {\n      if (v === array[j]) {\n        marks[j] = marks[i] = false;\n      }\n    }\n  }\n\n  return marks;\n}\n\nimport Toolkit from './toolkit';\n\n// 输入： matrix 用户完成的数独数据， 9 x 9\n// 处理：对 matrix 行、列、宫进行检查，并填写marks\n// 输出：检查是否成功 marks\nexport default class Checker {\n  constructor (matrix) {\n    this._matrix = matrix;\n    this._matrixMarks = Toolkit.matrix.makeMatrix(true);\n  }\n\n  get matrixMarks () {\n    return this._matrixMarks;\n  }\n\n  get isSuccess () {\n    return this._success;\n  }\n\n  check () {\n    this.checkRows();\n    this.checkCols();\n    this.checkBoxes();\n\n    // 检查是否成功\n    // Array.prototype.every()\n    this._success = this._matrixMarks.every(row => row.every(mark => mark));\n    return this._success;\n  }\n\n  checkRows () {\n    for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\n      const row = this._matrix[rowIndex];\n      const marks = checkArray(row);\n\n      for (let colIndex = 0; colIndex < marks.length; colIndex++) {\n        if (!marks[colIndex]) {\n          this._matrixMarks[rowIndex][colIndex] = false;\n        }\n      }\n    }\n  }\n\n  checkCols () {\n    for (let colIndex = 0; colIndex < 9; colIndex++) {\n      const cols = [];\n      for (let rowIndex = 0; rowIndex < 9; rowIndex++) {\n        cols[rowIndex] = this._matrix[rowIndex][colIndex];\n      }\n\n      const marks = checkArray(cols);\n      for (let rowIndex = 0; rowIndex < marks.length; rowIndex++) {\n        if (!marks[rowIndex]) {\n          this._matrixMarks[rowIndex][colIndex] = false;\n        }\n      }\n    }\n  }\n\n  checkBoxes () {\n    for (let boxIndex = 0; boxIndex < 9; boxIndex++) {\n      const boxes = Toolkit.box.getBoxCells(this._matrix, boxIndex);\n      const marks = checkArray(boxes);\n      for (let cellIndex = 0; cellIndex < 9; cellIndex++) {\n        if (!marks[cellIndex]) {\n          const { rowIndex, colIndex } = Toolkit.box.convertFromBoxIndex(boxIndex, cellIndex);\n          this._matrixMarks[rowIndex][colIndex] = false;\n        }\n      }\n    }\n  }\n}\n\n// const Generator = require('./generator');\n// const gen = new Generator();\n// gen.generator();\n// const matrix = gen.matrix;\n\n// const checker = new Checker(matrix);\n\n// matrix[1][1] = 0;\n// matrix[2][3] = matrix[3][5] = 5;\n\n// const checker2 = new Checker(matrix);\n// console.log(matrix);\n// console.log(\"check result\", checker2.check());\n// console.log(checker2.matrixMarks);\n\n\n// WEBPACK FOOTER //\n// ./js/core/checker.js","// 处理弹出操作面板\nexport default class PopupNumbers {\n  constructor ($panel) {\n    this._$panel = $panel.hide().removeClass('hidden');\n    this._panelWidth = $panel.width();\n    this._$panel.on('mousedown', 'span', e => {\n      const $cell = this._$targetCell;\n      const $span = $(e.target);\n\n      if ($span.hasClass('mark1')) {\n        // mark1，mark2 回填样式\n        if ($cell.hasClass('mark1')) {\n          $cell.removeClass('mark1');\n        } else {\n          $cell.removeClass('mark2').addClass('mark1');\n        }\n      } else if ($span.hasClass('mark2')) {\n        // mark1，mark2 回填样式\n        if ($cell.hasClass('mark2')) {\n          $cell.removeClass('mark2');\n        } else {\n          $cell.removeClass('mark1').addClass('mark2');\n        }\n      } else if ($span.hasClass('empty')) {\n        // empty 取消数字填写，取消mark\n        $cell.text(0).addClass('empty');\n      } else {\n        // 1-9回填数字\n        $cell.removeClass('empty').text($span.text());\n      }\n      this.hide();\n      $cell.removeClass('active');\n    })\n  }\n\n  popup ($cell) {\n    this._$targetCell = $cell;\n    $cell.addClass('active');\n    const rect = $cell[0].getBoundingClientRect();\n    const deviation = parseFloat(rect.width / 2);\n\n    const left = Math.round((rect.left + deviation) * 100) / 100;\n    const top = Math.round((rect.top + deviation) * 100) / 100;\n\n    const trueLeft = window.innerWidth > Math.round((left + this._panelWidth) * 100) / 100 ? left : left - this._panelWidth;\n    this._$panel.css({\n      left: `${trueLeft}px`,\n      top: `${top}px`\n    }).show();\n  }\n\n  hide () {\n    this._$panel.hide();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/ui/popupnumbers.js"],"sourceRoot":""}